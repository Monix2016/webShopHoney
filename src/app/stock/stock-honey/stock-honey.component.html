<section>
    <div class="cart-list">
        <div class="flex-col cart-box" *ngFor="let product of products">
            <div class="flex-container">
                <div class="product-card">
                    <div class="product-image">
                        <img src="./assets/img/{{product.image}}" alt="Exterior photo of {{product.name}}" alt="">
                        <div class="titleCard">{{'Action.UploadImage'|translate}}</div>
                        <div class="overlay"></div>
                    </div>
                    <div class="">
                        <app-upload-img (imageUploaded)="onImageUploaded($event)"></app-upload-img>
                    </div>
                </div>
                <div class="flex-col">
                    <div class="cart-item">
                        <div class="cart-item-actions">
                            <div class="form-inline-select  flex-container-col">
                                <label for="categorySelector">{{'Item.Category'| translate}} </label>
                                <div class="custom-select-wrapper">
                                    <select id="categorySelector" [(ngModel)]="product.category"
                                        class="form-control custom-select" name="productCategory">
                                        <option value="HN">{{'BenificesHerbalHoney.Title'| translate}}</option>
                                        <option value="HX">{{'BenificesHerbalHoney.Title'| translate}}</option>
                                        <option value="HY">{{'BenificesHerbalHoney.Title'| translate}}</option>
                                        <option value="HA">{{'BenificesHerbalHoney.Title'| translate}}</option>
                                        <option value="HB">{{'BenificesHerbalHoney.Title'| translate}}</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-inline-select  flex-container-col">
                                <label for="typeSelector">{{'Item.Type'|translate}} </label>
                                <div class="custom-select-wrapper">
                                    <select id="typeSelector" [(ngModel)]="product.type"
                                        class="form-control custom-select" name="productType">
                                        <option value="HN">{{'Honey'|translate}}</option>
                                        <option value="MT">{{'Material.Title'| translate}}</option>
                                        <option value="CC">{{'Cours.Title'|translate}}</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-inline-select  flex-container-col">
                                <label for="stateSelector">{{'Item.State'| translate}}</label>
                                <div class="custom-select-wrapper">
                                    <select id="stateSelector" [(ngModel)]="product.state"
                                        class="form-control custom-select" name="productState">
                                        <option value="NO">{{'Item.NotAvailable'| translate}}</option>
                                        <option value="SI">{{'Item.Available'| translate}}</option>
                                    </select>
                                </div>
                            </div>

                        </div>
                    </div>
                    <div class="cart-item">
                        <div class="cart-item-actions">
                            <div class="flex-container-col">
                                <label>{{'Item.Name'| translate}} </label>
                                <input type="text" class="input" [(ngModel)]="product.name" name="productName">
                            </div>

                            <div class="flex-container-col">
                                <label>{{'Item.Description'| translate}} </label>
                                <input type="text" class="input" [(ngModel)]="product.description"
                                    name="productDescription">
                            </div>

                            <div class="flex-container-col">
                                <label>{{'Item.Stock'| translate}} </label>
                                <input type="number" class="input" [(ngModel)]="product.stock" name="productStock">
                            </div>

                            <div class="flex-container-col">
                                <label>{{'City'| translate}} </label>
                                <input type="text" class="input" [(ngModel)]="product.city" name="productCity">
                            </div>

                        </div>
                    </div>

                    <div class="cart-item">
                        <div class="cart-item-actions">


                            <div class="form-inline-select  flex-container-col flex-container-col">
                                <label for="weightSelector">{{'cart.CartItems.Weight'|translate}} </label>
                                <div class="custom-select-wrapper">
                                    <select id="weightSelector" [(ngModel)]="product.weight"
                                        class="form-control custom-select" name="productWeight"
                                        (change)="onWeightChange(product)">
                                        <option value="">{{'cart.CartItems.Weight'|translate}}</option>
                                        <option value="1000">1000g</option>
                                        <option value="500">500g</option>
                                        <option value="250">250g</option>
                                    </select>
                                </div>
                            </div>
                            <div class="flex-container-col">
                                <label>{{'cart.CartItems.Price'|translate}}</label>
                                <input type="number" class="input" [(ngModel)]="product.selectedPrice"
                                    name="productPrice">
                            </div>

                            <div class="flex-container-col">
                                <label>{{'Item.DTO'|translate}} </label>
                                <input type="number" class="input" [(ngModel)]="product.selectedDto"
                                    name="productDiscount">
                            </div>

                        </div>

                    </div>
                </div>

            </div>
            <button type="button" class="button_main"
                (click)="saveChanges(product)">{{'Action.Save'|translate}}</button>
        </div>
    </div>

    <button class="primary floating-btn" (click)="addProduct()">{{'Action.AddProduct'|translate}}</button>

    <div class="cart-list" *ngIf="showAddProductForm">
        <h3>AÃ±adir Nuevo Producto</h3>
        <div class="flex-col cart-box">
            <form [formGroup]="productForm" (ngSubmit)="saveNewProduct()">

                <div class="flex-container">
                    <div class="product-card">
                        <div class="product-image">
                            <img src="" alt="Exterior photo of">
                            <div class="titleCard">{{'Action.UploadImage'|translate}}</div>
                            <div class="overlay"></div>
                        </div>
                        <div class="product-info">
                            <p>{{'Action.UploadImage'|translate}}</p>

                            <app-upload-img (imageUploaded)="onImageUploaded($event)"></app-upload-img>
                        </div>
                    </div>

                    <div class="flex-col">
                        <div class="cart-item">
                            <div class="cart-item-actions">

                                <div class="form-inline-select  flex-container-col">
                                    <div class="custom-select-wrapper">
                                        <label for="typeSelector">{{'Item.Type'|translate}} </label>
                                        <select id="typeSelector" formControlName="type"
                                            class="form-control custom-select" name="type">
                                            <option value="HN">{{'Honey'|translate}}</option>
                                            <option value="MT">{{'Material.Title'|translate}}</option>
                                            <option value="CC">{{'Cours.Title'|translate}}</option>
                                        </select>

                                    </div>
                                </div>

                                <div class="form-inline-select  flex-container-col">
                                    <div class="custom-select-wrapper">
                                        <label for="categorySelector">{{'Item.Category'|translate}} </label>
                                        <select id="categorySelector" formControlName="category"
                                            class="form-control custom-select" name="category">
                                            <option value="HN">{{'BenificesHerbalHoney.Title'|translate}}</option>
                                            <option value="HN">{{'BenificesHerbalHoney.Title'| translate}}</option>
                                            <option value="HX">{{'BenificesHerbalHoney.Title'| translate}}</option>
                                            <option value="HY">{{'BenificesHerbalHoney.Title'| translate}}</option>
                                            <option value="HA">{{'BenificesHerbalHoney.Title'| translate}}</option>
                                            <option value="HB">{{'BenificesHerbalHoney.Title'| translate}}</option>
                                        </select>
                                    </div>
                                </div>

                                <div class="form-inline-select  flex-container-col">
                                    <div class="custom-select-wrapper">
                                        <label for="stateSelector">{{'Item.State'|translate}} </label>
                                        <select id="stateSelector" formControlName="state"
                                            class="form-control custom-select" name="state">
                                            <option value="NO">{{'Item.NotAvailable'|translate}}</option>
                                            <option value="SI">{{'Item.Available'|translate}}</option>
                                        </select>

                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="cart-item">
                            <div class="cart-item-actions">

                                <div class="flex-container-col">
                                    <label>{{'Item.Name'|translate}} </label>
                                    <input type="text" formControlName="name">
                                </div>


                                <div class="flex-container-col">
                                    <label>{{'Item.Description'|translate}} </label>
                                    <input type="text" formControlName="description">
                                </div>


                                <div class="flex-container-col">
                                    <label>{{'Item.Stock'|translate}} </label>
                                    <input type="number" formControlName="stock">
                                </div>

                                <div class="flex-container-col"><label>{{'City'|translate}} </label>
                                    <input type="text" formControlName="city">
                                </div>

                            </div>
                        </div>
                        <div class="flex-container">
                            <div class="cart-item">
                                <div class="cart-item-actions">
                                    <div formGroupName="prices" class="flex-col">
                                        <div class="flex-col"><label>Precio 1000g<input type="number"
                                                    formControlName="1000"> </label>
                                        </div>

                                        <div class="flex-col"><label>Precio 500g <input type="number"
                                                    formControlName="500"></label>
                                        </div>

                                        <div class="flex-col"> <label>Precio 250g<input type="number"
                                                    formControlName="250"></label>
                                        </div>

                                    </div>
                                </div>
                            </div>
                            <div class="cart-item">
                                <div class="cart-item-actions">
                                    <div formGroupName="discounts">
                                        <div class="flex-col">
                                            <label>Descuento 1000g <input type="number" formControlName="1000"></label>
                                        </div>
                                        <div class="flex-col">
                                            <label>Descuento 500g <input type="number" formControlName="500"></label>
                                        </div>
                                        <div class="flex-col">
                                            <label>Descuento 250g <input type="number" formControlName="250"></label>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <button type="submit" class="button_main">{{'Action.Add'|translate}}</button>
            </form>

        </div>

    </div>
</section>