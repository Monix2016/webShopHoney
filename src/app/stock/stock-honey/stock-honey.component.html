<section>
    <div class="cart-list">
        <div class="flex-col cart-box" *ngFor="let product of products">
            <div class="flex-container">
                <div class="product-card">
                    <div class="product-image">
                        <img src="./assets/img/{{product.image}}" alt="Exterior photo of {{product.name}}" alt="">
                        <div class="titleCard">{{'Action.UploadImage'|translate}}</div>
                        <div class="overlay"></div>
                    </div>
                    <div class="">
                        <app-upload-img (imageUploaded)="onImageUploaded($event)"></app-upload-img>
                    </div>
                </div>
                <div class="flex-col">
                    <div class="cart-item">
                        <div class="cart-item-actions">
                            <div class="form-inline-select  flex-container-col">
                                <label for="categorySelector">{{'Item.Category'| translate}} </label>
                                <div class="custom-select-wrapper">
                                    <select id="categorySelector" [(ngModel)]="product.category"
                                        class="form-control custom-select" name="productCategory">
                                        <option value="HN">{{'BenificesHerbalHoney.Title'| translate}}</option>
                                        <option value="HX">{{'BenificesHerbalHoney.Title'| translate}}</option>
                                        <option value="HY">{{'BenificesHerbalHoney.Title'| translate}}</option>
                                        <option value="HA">{{'BenificesHerbalHoney.Title'| translate}}</option>
                                        <option value="HB">{{'BenificesHerbalHoney.Title'| translate}}</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-inline-select  flex-container-col">
                                <label for="typeSelector">{{'Item.Type'|translate}} </label>
                                <div class="custom-select-wrapper">
                                    <select id="typeSelector" [(ngModel)]="product.type"
                                        class="form-control custom-select" name="productType">
                                        <option value="HN">{{'Honey'|translate}}</option>
                                        <option value="MT">{{'Material.Title'| translate}}</option>
                                        <option value="CC">{{'Cours.Title'|translate}}</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-inline-select  flex-container-col">
                                <label for="stateSelector">{{'Item.State'| translate}}</label>
                                <div class="custom-select-wrapper">
                                    <select id="stateSelector" [(ngModel)]="product.state"
                                        class="form-control custom-select" name="productState">
                                        <option value="NO">{{'Item.NotAvailable'| translate}}</option>
                                        <option value="SI">{{'Item.Available'| translate}}</option>
                                    </select>
                                </div>
                            </div>

                        </div>
                    </div>
                    <div class="cart-item">
                        <div class="cart-item-actions">
                            <div class="flex-container-col">
                                <label>{{'Item.Name'| translate}} </label>
                                <input type="text" class="input"
                                        [(ngModel)]="product.name" name="productName">
                            </div>

                            <div class="flex-container-col">
                                <label>{{'Item.Description'| translate}} </label>
                                <input type="text" class="input"
                                        [(ngModel)]="product.description" name="productDescription">
                            </div>

                            <div class="flex-container-col">
                                <label>{{'Item.Stock'| translate}} </label>
                                <input type="number" class="input"
                                        [(ngModel)]="product.stock" name="productStock">
                            </div>

                            <div class="flex-container-col">
                                <label>{{'City'| translate}} </label>
                                <input type="text" class="input"
                                        [(ngModel)]="product.city" name="productCity">
                            </div>

                        </div>
                    </div>

                    <div class="cart-item">
                        <div class="cart-item-actions">


                            <div class="form-inline-select  flex-container-col flex-container-col">
                                <label for="weightSelector">{{'cart.CartItems.Weight'|translate}} </label>
                                <div class="custom-select-wrapper">
                                    <select id="weightSelector" [(ngModel)]="product.weight"
                                        class="form-control custom-select" name="productWeight"
                                        (change)="onWeightChange(product)">
                                        <option value="">{{'cart.CartItems.Weight'|translate}}</option>
                                        <option value="1000">1000g</option>
                                        <option value="500">500g</option>
                                        <option value="250">250g</option>
                                    </select>
                                </div>
                            </div>
                            <div class="flex-container-col">
                                <label>{{'cart.CartItems.Price'|translate}}</label>
                                <input type="number" class="input" [(ngModel)]="product.selectedPrice"
                                name="productPrice">
                            </div>

                            <div class="flex-container-col">
                                <label>{{'Item.DTO'|translate}} </label>
                                <input type="number" class="input" [(ngModel)]="product.selectedDto"
                                name="productDiscount">
                            </div>

                        </div>

                    </div>
                </div>

            </div>
            <button type="button" class="button_main"
                (click)="saveChanges(product)">{{'Action.Save'|translate}}</button>
        </div>
    </div>

    <button class="primary" (click)="addProduct()">{{'Action.AddProduct'|translate}}</button>

    <div class="cart-list" *ngIf="showAddProductForm">
        <h3>Añadir Nuevo Producto</h3>
        <div class="flex-col cart-box">

            <form>
                <div class="flex-container">
                    <div class="product-card">
                        <div class="product-image">
                            <img src="./assets/img/{{newProduct.image}}" alt="Exterior photo of {{newProduct.name}}">
                            <div class="titleCard">{{'Action.UploadImage'|translate}}</div>
                            <div class="overlay"></div>
                        </div>
                        <div class="product-info">
                            <p>{{'Action.UploadImage'|translate}}</p>

                            <app-upload-img (imageUploaded)="onImageUploaded($event)"></app-upload-img>
                        </div>
                    </div>
                    <div class="flex-col">
                        <div class="cart-item">
                            <div class="cart-item-actions">
                                <div class="form-inline-select  flex-container-col">
                                    <label for="typeSelector">{{'Item.Type'|translate}} </label>
                                    <div class="custom-select-wrapper">
                                        <select id="typeSelector" [(ngModel)]="newProduct.type"
                                            class="form-control custom-select" name="productType">
                                            <option value="HN">{{'Honey'|translate}}</option>
                                            <option value="MT">{{'Material.Title'| translate}}</option>
                                            <option value="CC">{{'Cours.Title'|translate}}</option>


                                        </select>
                                    </div>
                                </div>

                                <div class="form-inline-select  flex-container-col">
                                    <label for="stateSelector">{{'Item.State'|translate}} </label>
                                    <div class="custom-select-wrapper">
                                        <select id="stateSelector" [(ngModel)]="newProduct.state"
                                            class="form-control custom-select" name="productState">
                                            <option value="NO">{{'Item.NotAvailable'|translate}}</option>
                                            <option value="SI">{{'Item.Available'|translate}}</option>
                                        </select>
                                    </div>
                                </div>

                                <div class="form-inline-select  flex-container-col">
                                    <label for="categorySelector">{{'Item.Category'|translate}} </label>
                                    <div class="custom-select-wrapper">
                                        <select id="categorySelector" [(ngModel)]="newProduct.category"
                                            class="form-control custom-select" name="productCategory">
                                            <option value="HN">{{'BenificesHerbalHoney.Title'| translate}}</option>
                                            <option value="HX">{{'BenificesHerbalHoney.Title'| translate}}</option>
                                            <option value="HY">{{'BenificesHerbalHoney.Title'| translate}}</option>
                                            <option value="HA">{{'BenificesHerbalHoney.Title'| translate}}</option>
                                            <option value="HB">{{'BenificesHerbalHoney.Title'| translate}}</option>


                                        </select>
                                    </div>
                                </div>


                            </div>
                        </div>
                        <div class="cart-item">
                            <div class="cart-item-actions">


                                <label>{{'Item.Name'|translate}} <input type="text" class="input"
                                        [(ngModel)]="newProduct.name" name="productName"></label>
                                <label>{{'Item.Description'|translate}} <input type="text" class="input"
                                        [(ngModel)]="newProduct.description" name="productDescription"></label>
                                <label>{{'Item.Stock'|translate}} <input type="number" class="input"
                                        [(ngModel)]="newProduct.stock" name="productStock"></label>
                                <label>{{'City'|translate}} <input type="text" class="input"
                                        [(ngModel)]="newProduct.city" name="productCity"></label>
                            </div>
                        </div>


                        <div class="cart-item">
                            <div class="cart-item-actions">
                                <div class="flex-container-col">
                                    <div class="flex-container-col">
                                        <label>{{'cart.CartItems.Price'|translate}} 1000g </label>
                                        <input type="number" class="input" [(ngModel)]="newProduct.prices['1000']"
                                            name="price1000">
                                    </div>
                                    <div class="flex-container-col">
                                        <label>{{'Item.DTO'|translate}} 1000g </label>
                                        <input type="number" class="input" [(ngModel)]="newProduct.discounts['1000']"
                                            name="DTO1000">
                                    </div>

                                </div>

                                <div class="flex-container-col">
                                    <div class="flex-container-col">
                                        <label>{{'cart.CartItems.Price'|translate}} 500g </label>
                                        <input type="number" class="input" [(ngModel)]="newProduct.prices['500']"
                                            name="price500">
                                    </div>

                                    <div class="flex-container-col">
                                        <label>{{'Item.DTO'|translate}} 500g </label>
                                        <input type="number" class="input" [(ngModel)]="newProduct.discounts['500']"
                                            name="DTO500">
                                    </div>

                                </div>
                                <div class="flex-container-col">
                                    <div class="flex-container-col">
                                        <label>{{'cart.CartItems.Price'|translate}} 250g </label>
                                        <input type="number" class="input" [(ngModel)]="newProduct.prices['250']"
                                            name="price250">
                                    </div>
                                    <div class="flex-container-col">
                                        <label>{{'Item.DTO'|translate}}250g</label>
                                        <input type="number" class="input" [(ngModel)]="newProduct.discounts['250']"
                                            name="DTO250">
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
                <!-- <button type="button" class="button_main" (click)="saveNewProduct()">Añadir</button> -->
                <button type="button" class="button_main" (click)="saveProduct()">{{'Action.Add'|translate}}</button>
            </form>
        </div>

    </div>
</section>