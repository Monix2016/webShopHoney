<section>



    <app-add-product></app-add-product>

    <div class="cart-list">
        <div class="flex-col cart-box" *ngFor="let product of products; let i = index">
            <form [formGroup]="productForms[i]" (ngSubmit)="saveChanges(i)">
                <div class="flex-container">
                    <div class="product-card">
                        <div class="product-image">
                            <img src="./assets/img/{{product.image}}">
                            <div class="titleCard">{{ 'Action.UploadImage' | translate }}</div>
                            <div class="overlay"></div>
                        </div>
                        <div>
                            <input type="file" (change)="onFileChange($event,i)" />
                        </div>
                    </div>
                    <div class="flex-col">
                        <div class="cart-item">
                            <div class="cart-item-actions">

                                <!-- Tipo -->
                                <div class="form-inline-select flex-container-col">
                                    <label for="typeSelector">{{ 'Item.Type' | translate }}</label>
                                    <div class="custom-select-wrapper">
                                        <select formControlName="type" class="form-control custom-select">
                                            <option value="HN">{{ 'Honey' | translate }}</option>
                                            <option value="MT">{{ 'Material.Title' | translate }}</option>
                                            <option value="CC">{{'Cours.Title'|translate}}</option>
                                        </select>
                                    </div>
                                </div>

                                <!-- CategorÃ­a -->
                                <div class="form-inline-select flex-container-col">
                                    <label for="categorySelector">{{ 'Item.Category' | translate }}</label>
                                    <div class="custom-select-wrapper">
                                        <select formControlName="category" class="form-control custom-select">
                                            <option value="HH">{{ 'BenificesHerbalHoney.Title' | translate }}</option>
                                            <option value="HA">HA</option>
                                            <option value="HC">HC</option>
                                            <option value="HD">HD</option>
                                            <option value="HX">HX</option>
                                            <option value="HY">HY</option>
                                            <option value="HA">HA</option>
                                            <option value="HB">HB</option>
                                        </select>
                                    </div>
                                </div>

                                <!-- Estado -->
                                <div class="form-inline-select flex-container-col">
                                    <label for="stateSelector">{{ 'Item.State' | translate }}</label>
                                    <div class="custom-select-wrapper">
                                        <select formControlName="state" class="form-control custom-select">
                                            <option value="SI">{{ 'Item.Available' | translate }}</option>
                                            <option value="NO">{{ 'Item.NotAvailable' | translate }}</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Detalles del Producto -->
                        <div class="cart-item">
                            <div class="cart-item-actions">

                                <div class="flex-container-col">
                                    <label>{{ 'Item.Name' | translate }}</label>
                                    <input formControlName="name" type="text" class="input">
                                </div>
                                <div class="flex-container-col">
                                    <label>{{ 'Item.Description' | translate }}</label>
                                    <input formControlName="description" type="text" class="input">
                                </div>
                                <div class="flex-container-col">
                                    <label>{{ 'Item.Stock' | translate }}</label>
                                    <input formControlName="stock" type="number" class="input">
                                </div>
                                <div class="flex-container-col">
                                    <label>{{ 'City' | translate }}</label>
                                    <input formControlName="city" type="text" class="input">
                                </div>
                            </div>
                        </div>

                        <!-- Precio y Descuento -->
                        <div class="cart-item">
                            <div class="cart-item-actions">
                                <div class="form-inline-select flex-container-col">
                                    <label for="weightSelector">{{ 'cart.CartItems.Weight' | translate }}</label>
                                    <div class="custom-select-wrapper">
                                        <select formControlName="weight" class="form-control custom-select"
                                            (change)="onWeightChange($event, product)">
                                            <option value="1000">1000g</option>
                                            <option value="500">500g</option>
                                            <option value="250">250g</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="flex-container-col">
                                    <label>weight</label>
                                    <input formControlName= "weight" type="text" class="input">
                                </div>
                                <div class="flex-container-col">
                                    <label>selectedWeight</label>
                                    <input [value]="selectedWeight" type="text" class="input">
                                </div>

                                <div class="flex-container-col" [formGroupName]="'prices'">
                                    <label>{{ 'cart.CartItems.Price' | translate }}</label>
                                    <input [formControlName]="selectedWeight" type="number" class="input">
                                    <input [formControlName]="product.prices[selectedWeight]" type="number" class="input">
                                    <input [value]="price2" type="number" class="input"> 
                                </div>
                                 <div class="flex-container-col" [formGroupName]="'discounts'">
                                    <label>{{ 'Item.DTO' | translate }}</label>
                                    <input [formControlName]="selectedWeight" type="number" class="input">
                                 </div>

                            </div>
                        </div>
                    </div>
                </div>
                <button type="submit" class="button_main">{{ 'Action.Save' | translate
                    }}</button>
                
            </form>
        </div>
    </div>


</section>